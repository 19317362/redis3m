\hypertarget{classredis3m_1_1patterns_1_1orm}{\section{redis3m\-:\-:patterns\-:\-:orm$<$ Model $>$ Class Template Reference}
\label{classredis3m_1_1patterns_1_1orm}\index{redis3m\-::patterns\-::orm$<$ Model $>$@{redis3m\-::patterns\-::orm$<$ Model $>$}}
}


Object-\/\-Redis-\/\-Mapper is a convenient pattern to store object on Redis. Useful when you need classic C\-R\-U\-D operations. It's compatible and inspired by \href{http://github.com/soveran/ohm}{\tt http\-://github.\-com/soveran/ohm}. Data can be indexed and it supports also uniques. To use it make a subclass of \hyperlink{classredis3m_1_1patterns_1_1model}{model} to model your attribute and use it to fill orm template parameter.  




{\ttfamily \#include $<$orm.\-h$>$}

\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
Model \hyperlink{classredis3m_1_1patterns_1_1orm_a3e96c9961e2445ff7d399f7c4c131d90}{find\-\_\-by\-\_\-id} (connection\-::ptr\-\_\-t conn, const std\-::string \&id)
\begin{DoxyCompactList}\small\item\em As the name says, get an object from id specifying it's unique identifier. \end{DoxyCompactList}\item 
Model \hyperlink{classredis3m_1_1patterns_1_1orm_a8e3ef3bbd7a44779425c0cd603e8ffc5}{find\-\_\-by\-\_\-unique\-\_\-field} (connection\-::ptr\-\_\-t conn, const std\-::string \&field, const std\-::string \&value)
\begin{DoxyCompactList}\small\item\em Find an object by using a unique field. \end{DoxyCompactList}\item 
bool \hyperlink{classredis3m_1_1patterns_1_1orm_a68ed176f8848c5c30612a8d29fb341d6}{exists\-\_\-by\-\_\-id} (connection\-::ptr\-\_\-t conn, const std\-::string \&id)
\begin{DoxyCompactList}\small\item\em Check if an object exists or not. \end{DoxyCompactList}\item 
std\-::string \hyperlink{classredis3m_1_1patterns_1_1orm_ae9618fa5fc90c05ad75dab2bd8979a66}{save} (connection\-::ptr\-\_\-t conn, const Model \&\hyperlink{classredis3m_1_1patterns_1_1model}{model})
\begin{DoxyCompactList}\small\item\em Save an object on database, or update it if it's already present. \end{DoxyCompactList}\item 
void \hyperlink{classredis3m_1_1patterns_1_1orm_a821adbf0bafae4563104977c7982882a}{remove} (connection\-::ptr\-\_\-t conn, const Model \&\hyperlink{classredis3m_1_1patterns_1_1model}{model})
\begin{DoxyCompactList}\small\item\em Remove object and all related data from database. \end{DoxyCompactList}\item 
\hypertarget{classredis3m_1_1patterns_1_1orm_aa8b6e4d42bef93974070001ec4c5ab60}{std\-::vector$<$ std\-::string $>$ {\bfseries list\-\_\-members} (connection\-::ptr\-\_\-t conn, const Model \&m, const std\-::string \&list\-\_\-name)}\label{classredis3m_1_1patterns_1_1orm_aa8b6e4d42bef93974070001ec4c5ab60}

\item 
\hypertarget{classredis3m_1_1patterns_1_1orm_a790d4963363d3f7af3a27f3c92261d6e}{void {\bfseries set\-\_\-add} (connection\-::ptr\-\_\-t conn, const Model \&m, const std\-::string \&set\-\_\-name, const std\-::string \&entry)}\label{classredis3m_1_1patterns_1_1orm_a790d4963363d3f7af3a27f3c92261d6e}

\item 
\hypertarget{classredis3m_1_1patterns_1_1orm_a5e552563226e067d04defdfb0ed77f57}{void {\bfseries set\-\_\-remove} (connection\-::ptr\-\_\-t conn, const Model \&m, const std\-::string \&set\-\_\-name, const std\-::string \&entry)}\label{classredis3m_1_1patterns_1_1orm_a5e552563226e067d04defdfb0ed77f57}

\item 
\hypertarget{classredis3m_1_1patterns_1_1orm_ab6fb72124e1ea7550eb0b908b95ab86f}{std\-::set$<$ std\-::string $>$ {\bfseries set\-\_\-members} (connection\-::ptr\-\_\-t conn, const Model \&m, const std\-::string \&set\-\_\-name)}\label{classredis3m_1_1patterns_1_1orm_ab6fb72124e1ea7550eb0b908b95ab86f}

\item 
std\-::string \hyperlink{classredis3m_1_1patterns_1_1orm_a520433866ecfba1b4679d04af46603f3}{collection\-\_\-key} ()
\begin{DoxyCompactList}\small\item\em Redis key of a S\-E\-T containing all object ids. Useful for custom operations. Pay attention to mantain compatibility with all other functions. \end{DoxyCompactList}\item 
std\-::string \hyperlink{classredis3m_1_1patterns_1_1orm_a75199bb02a7e188a9cf60fdbbc4ec0be}{collection\-\_\-id\-\_\-key} ()
\begin{DoxyCompactList}\small\item\em Key containing an incremental counter, used to generate an id for new objects. Useful for custom operations. Pay attention to mantain compatibility with all other functions. \end{DoxyCompactList}\item 
std\-::string \hyperlink{classredis3m_1_1patterns_1_1orm_ad4232c86962fdb91a206fa3f78dabaa6}{model\-\_\-key} (const std\-::string \&id)
\begin{DoxyCompactList}\small\item\em Returns Redis Key used to save object data. \end{DoxyCompactList}\item 
std\-::string \hyperlink{classredis3m_1_1patterns_1_1orm_ad1b2ed504968d06a941588374c92b0ba}{tracked\-\_\-key} (const std\-::string \&id, const std\-::string \&key)
\begin{DoxyCompactList}\small\item\em Returns full key, related to object. \end{DoxyCompactList}\item 
\hypertarget{classredis3m_1_1patterns_1_1orm_ab18df7a4c6412ea15fd79d8b686a3757}{std\-::string {\bfseries indexed\-\_\-field\-\_\-key} (const std\-::string \&field, const std\-::string \&value)}\label{classredis3m_1_1patterns_1_1orm_ab18df7a4c6412ea15fd79d8b686a3757}

\item 
\hypertarget{classredis3m_1_1patterns_1_1orm_a4bf7085f7752f334e8070b3ca3f44ebf}{std\-::string {\bfseries unique\-\_\-field\-\_\-key} (const std\-::string \&field)}\label{classredis3m_1_1patterns_1_1orm_a4bf7085f7752f334e8070b3ca3f44ebf}

\end{DoxyCompactItemize}


\subsection{Detailed Description}
\subsubsection*{template$<$typename Model$>$class redis3m\-::patterns\-::orm$<$ Model $>$}

Object-\/\-Redis-\/\-Mapper is a convenient pattern to store object on Redis. Useful when you need classic C\-R\-U\-D operations. It's compatible and inspired by \href{http://github.com/soveran/ohm}{\tt http\-://github.\-com/soveran/ohm}. Data can be indexed and it supports also uniques. To use it make a subclass of \hyperlink{classredis3m_1_1patterns_1_1model}{model} to model your attribute and use it to fill orm template parameter. 

\subsection{Member Function Documentation}
\hypertarget{classredis3m_1_1patterns_1_1orm_a75199bb02a7e188a9cf60fdbbc4ec0be}{\index{redis3m\-::patterns\-::orm@{redis3m\-::patterns\-::orm}!collection\-\_\-id\-\_\-key@{collection\-\_\-id\-\_\-key}}
\index{collection\-\_\-id\-\_\-key@{collection\-\_\-id\-\_\-key}!redis3m::patterns::orm@{redis3m\-::patterns\-::orm}}
\subsubsection[{collection\-\_\-id\-\_\-key}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename Model $>$ std\-::string {\bf redis3m\-::patterns\-::orm}$<$ Model $>$\-::collection\-\_\-id\-\_\-key (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}}\label{classredis3m_1_1patterns_1_1orm_a75199bb02a7e188a9cf60fdbbc4ec0be}


Key containing an incremental counter, used to generate an id for new objects. Useful for custom operations. Pay attention to mantain compatibility with all other functions. 

\begin{DoxyReturn}{Returns}

\end{DoxyReturn}
\hypertarget{classredis3m_1_1patterns_1_1orm_a520433866ecfba1b4679d04af46603f3}{\index{redis3m\-::patterns\-::orm@{redis3m\-::patterns\-::orm}!collection\-\_\-key@{collection\-\_\-key}}
\index{collection\-\_\-key@{collection\-\_\-key}!redis3m::patterns::orm@{redis3m\-::patterns\-::orm}}
\subsubsection[{collection\-\_\-key}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename Model $>$ std\-::string {\bf redis3m\-::patterns\-::orm}$<$ Model $>$\-::collection\-\_\-key (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}}\label{classredis3m_1_1patterns_1_1orm_a520433866ecfba1b4679d04af46603f3}


Redis key of a S\-E\-T containing all object ids. Useful for custom operations. Pay attention to mantain compatibility with all other functions. 

\begin{DoxyReturn}{Returns}

\end{DoxyReturn}
\hypertarget{classredis3m_1_1patterns_1_1orm_a68ed176f8848c5c30612a8d29fb341d6}{\index{redis3m\-::patterns\-::orm@{redis3m\-::patterns\-::orm}!exists\-\_\-by\-\_\-id@{exists\-\_\-by\-\_\-id}}
\index{exists\-\_\-by\-\_\-id@{exists\-\_\-by\-\_\-id}!redis3m::patterns::orm@{redis3m\-::patterns\-::orm}}
\subsubsection[{exists\-\_\-by\-\_\-id}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename Model $>$ bool {\bf redis3m\-::patterns\-::orm}$<$ Model $>$\-::exists\-\_\-by\-\_\-id (
\begin{DoxyParamCaption}
\item[{connection\-::ptr\-\_\-t}]{conn, }
\item[{const std\-::string \&}]{id}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}}\label{classredis3m_1_1patterns_1_1orm_a68ed176f8848c5c30612a8d29fb341d6}


Check if an object exists or not. 


\begin{DoxyParams}{Parameters}
{\em conn} & \\
\hline
{\em id} & Unique identifier \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}

\end{DoxyReturn}
\hypertarget{classredis3m_1_1patterns_1_1orm_a3e96c9961e2445ff7d399f7c4c131d90}{\index{redis3m\-::patterns\-::orm@{redis3m\-::patterns\-::orm}!find\-\_\-by\-\_\-id@{find\-\_\-by\-\_\-id}}
\index{find\-\_\-by\-\_\-id@{find\-\_\-by\-\_\-id}!redis3m::patterns::orm@{redis3m\-::patterns\-::orm}}
\subsubsection[{find\-\_\-by\-\_\-id}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename Model $>$ Model {\bf redis3m\-::patterns\-::orm}$<$ Model $>$\-::find\-\_\-by\-\_\-id (
\begin{DoxyParamCaption}
\item[{connection\-::ptr\-\_\-t}]{conn, }
\item[{const std\-::string \&}]{id}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}}\label{classredis3m_1_1patterns_1_1orm_a3e96c9961e2445ff7d399f7c4c131d90}


As the name says, get an object from id specifying it's unique identifier. 


\begin{DoxyParams}{Parameters}
{\em conn} & \\
\hline
{\em id} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Use \hyperlink{classredis3m_1_1patterns_1_1model_ac2ad745d637383d2cc42b6a1e15a82d6}{model.\-loaded()} to check if it's valid or not 
\end{DoxyReturn}
\hypertarget{classredis3m_1_1patterns_1_1orm_a8e3ef3bbd7a44779425c0cd603e8ffc5}{\index{redis3m\-::patterns\-::orm@{redis3m\-::patterns\-::orm}!find\-\_\-by\-\_\-unique\-\_\-field@{find\-\_\-by\-\_\-unique\-\_\-field}}
\index{find\-\_\-by\-\_\-unique\-\_\-field@{find\-\_\-by\-\_\-unique\-\_\-field}!redis3m::patterns::orm@{redis3m\-::patterns\-::orm}}
\subsubsection[{find\-\_\-by\-\_\-unique\-\_\-field}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename Model $>$ Model {\bf redis3m\-::patterns\-::orm}$<$ Model $>$\-::find\-\_\-by\-\_\-unique\-\_\-field (
\begin{DoxyParamCaption}
\item[{connection\-::ptr\-\_\-t}]{conn, }
\item[{const std\-::string \&}]{field, }
\item[{const std\-::string \&}]{value}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}}\label{classredis3m_1_1patterns_1_1orm_a8e3ef3bbd7a44779425c0cd603e8ffc5}


Find an object by using a unique field. 


\begin{DoxyParams}{Parameters}
{\em conn} & \\
\hline
{\em field} & name of field, should be returned by \hyperlink{classredis3m_1_1patterns_1_1model_af8a02d965738e983649b27a6c87d34a6}{model\-::uniques} \\
\hline
{\em value} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Use \hyperlink{classredis3m_1_1patterns_1_1model_ac2ad745d637383d2cc42b6a1e15a82d6}{model.\-loaded()} to check if it's valid or not 
\end{DoxyReturn}
\hypertarget{classredis3m_1_1patterns_1_1orm_ad4232c86962fdb91a206fa3f78dabaa6}{\index{redis3m\-::patterns\-::orm@{redis3m\-::patterns\-::orm}!model\-\_\-key@{model\-\_\-key}}
\index{model\-\_\-key@{model\-\_\-key}!redis3m::patterns::orm@{redis3m\-::patterns\-::orm}}
\subsubsection[{model\-\_\-key}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename Model $>$ std\-::string {\bf redis3m\-::patterns\-::orm}$<$ Model $>$\-::model\-\_\-key (
\begin{DoxyParamCaption}
\item[{const std\-::string \&}]{id}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}}\label{classredis3m_1_1patterns_1_1orm_ad4232c86962fdb91a206fa3f78dabaa6}


Returns Redis Key used to save object data. 


\begin{DoxyParams}{Parameters}
{\em id} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}

\end{DoxyReturn}
\hypertarget{classredis3m_1_1patterns_1_1orm_a821adbf0bafae4563104977c7982882a}{\index{redis3m\-::patterns\-::orm@{redis3m\-::patterns\-::orm}!remove@{remove}}
\index{remove@{remove}!redis3m::patterns::orm@{redis3m\-::patterns\-::orm}}
\subsubsection[{remove}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename Model $>$ void {\bf redis3m\-::patterns\-::orm}$<$ Model $>$\-::remove (
\begin{DoxyParamCaption}
\item[{connection\-::ptr\-\_\-t}]{conn, }
\item[{const Model \&}]{model}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}}\label{classredis3m_1_1patterns_1_1orm_a821adbf0bafae4563104977c7982882a}


Remove object and all related data from database. 


\begin{DoxyParams}{Parameters}
{\em conn} & \\
\hline
{\em model} & \\
\hline
\end{DoxyParams}
\hypertarget{classredis3m_1_1patterns_1_1orm_ae9618fa5fc90c05ad75dab2bd8979a66}{\index{redis3m\-::patterns\-::orm@{redis3m\-::patterns\-::orm}!save@{save}}
\index{save@{save}!redis3m::patterns::orm@{redis3m\-::patterns\-::orm}}
\subsubsection[{save}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename Model $>$ std\-::string {\bf redis3m\-::patterns\-::orm}$<$ Model $>$\-::save (
\begin{DoxyParamCaption}
\item[{connection\-::ptr\-\_\-t}]{conn, }
\item[{const Model \&}]{model}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}}\label{classredis3m_1_1patterns_1_1orm_ae9618fa5fc90c05ad75dab2bd8979a66}


Save an object on database, or update it if it's already present. 


\begin{DoxyParams}{Parameters}
{\em conn} & \\
\hline
{\em model} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
unique identifier of the object, a new one on creation. 
\end{DoxyReturn}
\hypertarget{classredis3m_1_1patterns_1_1orm_ad1b2ed504968d06a941588374c92b0ba}{\index{redis3m\-::patterns\-::orm@{redis3m\-::patterns\-::orm}!tracked\-\_\-key@{tracked\-\_\-key}}
\index{tracked\-\_\-key@{tracked\-\_\-key}!redis3m::patterns::orm@{redis3m\-::patterns\-::orm}}
\subsubsection[{tracked\-\_\-key}]{\setlength{\rightskip}{0pt plus 5cm}template$<$typename Model $>$ std\-::string {\bf redis3m\-::patterns\-::orm}$<$ Model $>$\-::tracked\-\_\-key (
\begin{DoxyParamCaption}
\item[{const std\-::string \&}]{id, }
\item[{const std\-::string \&}]{key}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [inline]}}}\label{classredis3m_1_1patterns_1_1orm_ad1b2ed504968d06a941588374c92b0ba}


Returns full key, related to object. 


\begin{DoxyParams}{Parameters}
{\em id} & \\
\hline
{\em key} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}

\end{DoxyReturn}


The documentation for this class was generated from the following file\-:\begin{DoxyCompactItemize}
\item 
include/redis3m/patterns/orm.\-h\end{DoxyCompactItemize}
